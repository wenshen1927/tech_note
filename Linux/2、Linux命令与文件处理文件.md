#二、Linux命令与文件处理命令

[TOC]



**==命令不难，但是不好记，至少每个命令要敲三遍以上！==**

###1、命令基本格式

- 命令提示符

  - <img src="/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190804092950837.png" style="width:500px">

    其中家目录，对于root用户就是 /root目录；如果对于普通用户，家目录就是/home目录

- 命令格式

  - 命令   [选项]  [参数]
  - 注意：个别命令使用不遵循此格式；当有多个选项时，可以卸载一起，简化选项与完整选项 -a  等于 - - all

- 查询目录中的内容

  - ls

    - 选项：
      - -a  显示所有文件，包含隐藏文件
      - -l 显示详细信息
      - -d 查看目录属性(如：想查看/etc文件本身的权限，如果用 ls -l 那么显示的是/etc下面的所有文件，这时就要用 ls -ld /etc  ，这样就显示/etc目录本身的权限)
      - -h 人性化显示文件大小
      - -i 显示inode

  - 如： ls  -l  /etc/ (长格式显示，显示详细信息)

  - 文件权限：

    如：-rw-r—r--

     - 文件类型( ==- 文件  d 目录  l 软连接文件==；常用的就这三种，还有其他4中系统特殊文件；==Linux没有扩展名，用文件权限第一位表示文件类型==)

     - 

       |   rw-   |  r - -  |  r - -  |
       | :-----: | :-----: | :-----: |
       | u所有者 | g所属组 | o其他人 |

     - r 读  w写  x执行

     - 用户组：相同权限的用户

![image-20190804100135570](/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190804100135570.png)

如上图：

- drwxr-xr-x：代表权限(文件类型 + 各种组权限)
- 15 : 引用计数，代表这个文件被调用过几次(硬链接)
-  zhangyanan：所有者(谁是这个文件的主人) ；  staff：所属组
- 480B：文件大小  ( ls -lh) 加上h，表示人类能看懂的形式 lol;

隐藏文件：.开头的文件 ， 目的是让用户不要误操作

​						(关于权限，后续再了解)

###2、文件处理命令

tip ：目录或命令 可以用tab键补全

####2.1 目录处理命令与文件处理命令

- 建立目录：mkdir

  - mkdir  -p [目录名]
    - -p 递归创建

- cd (**c**hange **d**irrctory)：切换所在目录

  - 简化操作：
    - cd ~ 进入用户的家目录
    - cd    与上同
    - cd -  进入上次的目录
    - cd .. 进入上一级目录
    - cd .  进入当前目录
  - 相对路径与绝对路径：
    - 相对路径：参照当前所在目录
      - 如：cd  ../usr/local/src/   (../ 就是相对路径的写法)
    - 绝对路径:从根目录开始指定，一级一级递归差汇总，在任何目录下，都能进入指定位置
      - 如：[root@localhost ~]# cd /etc/

- pwd : 显示当前工作目录

- rmdir [目录名]：删除**空白**目录

- rm -rf [文件或目录] ：删除（**r**e**m**ove）文件或目录(**！！！删除之前需要非常小心！！！**)

  - 选项： -r 删除目录

    ​            -f 强制(force)

- cp [选项]  [原文件或目录] [目标目录]   ：复制命令  copy

  - 选项：
    - -r 复制目录(与rm命令一样，不加-r是复制文件，加-r是复制目录)==（普通复制之后的文件创建时间是执行命令时的时间)==
    - -p 连带文件属性复制(包括时间等。。目标文件和源文件一模一样)
    - -d 若源文件是链接文件，则复制链接属性
    - -a 相当于-pdr   (**==一般用这个参数使复制之后的文件和源文件一模一样==**)

- date : 显示系统时间

- mv [原文件或目录] [目标目录]：剪切或改名命令(move)

- nl  :`nl` 命令，添加行号并打印，这是个比 `cat -n` 更专业的行号打印命令

- #### 使用 `more` 和 `less` 命令分页查看文件

  如果说上面的 `cat` 是用来快速查看一个文件的内容的，那么这个 `more` 和 `less` 就是天生用来"阅读"一个文件的内容的，比如说 man 手册内部就是使用的 `less` 来显示内容。其中 `more` 命令比较简单，只能向一个方向滚动，而 `less` 为基于 `more` 和 `vi`（一个强大的编辑器，我们有单独的课程来让你学习）开发，功能更强大。`less` 的使用基本和 `more` 一致，具体使用请查看 man 手册，这里只介绍 `more` 命令的使用。

  ​	打开后默认只显示一屏内容，终端底部显示当前阅读的进度。可以使用 `Enter` 键向下滚动一行，使用 `Space` 键向下滚动一屏，按下 `h` 显示帮助，`q` 退出。

- #### 使用 `head` 和 `tail` 命令查看文件

  - tail -n 10 /etc/passwd  ： 只查看后10行数据
  - -f 参数也很常用，需进一步了解

-  file : 查看文件类型 ： file /bin.ls ; 

  - 在 Linux 中文件的类型不是根据文件后缀来判断的，我们通常使用 `file` 命令查看文件的类型 

#####linux下常见目录

- 根目录下的bin，sbin，usr目录下的bin和sbin，这四个目录都是用来保存系统命令的；其中bin目录是所有用户都可以使用的，sbin是root用户才可以用的命令
- 其余目录见《linux学习》笔记
- 可以在家目录root或home（尽量在home目录下进行练习），以及tmp目录下随便放内容

####2.2 链接命令

- ln -s [原文件] [目标文件]   ： link 
  - 功能描述：生成链接文件
  - 选项： -s  创建软链接
- 软链接与硬链接：
  - 硬链接特征：
    - 与原文件拥有同一个的i节点和存储block块，可以看做是同一个文件
    - 可通过i节点识别
    - 不能跨分区
    - 不能针对目录使用
    - 注意：不建议使用硬链接，硬链接文件就是相当于给原文件加了一道门，仅仅是引用计数加一，i节点都是相同的，很难区分，另外硬链接限制较多，既不能跨分区，又不能针对目录使用
  - 软链接特征：
    - 类似windows快捷方式(基本完全一样)
    - 软链接拥有自己的I节点和Block块，但是数据块中只保存原文件的文件名和I节点号，并没有实际的文件数据
    - lrwxrwxrwx ： l  软链接  ，软链接文件权限都为rwxrwxrwx(777)
    - 修改任意文件，另一个都变：修改原文件，软链接和硬链接文件也变化；修改软链接文件，原文件和硬链接也会变；修改硬链接，原文件及其软链接也变化
    - 删除原文件，软链接不能使用
    - 注意：如果写软链接，原文件一定要写绝对路径（除非两个文件在同一目录下），否则会报错！！
    - ![image-20190805221503372](/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190805221503372.png)