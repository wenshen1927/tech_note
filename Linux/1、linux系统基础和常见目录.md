#一、linux系统基础和常见目录

[TOC]



###1、Linux系统分区：

例子：想想一个柜子，没有任何隔断，我们把所有衣服帽子堆在里面，那么当我需要找一个帽子时，就需要一个一个找，效率低，这时候我们需要按照分类需求把柜子做隔断，比如第一个隔断放衣服，第二个隔断放裤子，第三个隔断放帽子等。这里的隔断就是磁盘分区。

分区：逻辑上把磁盘分成几个存储空间

分区类型：

- 主分区：一开始只有主分区类型，最多只能有4个(由硬盘机构决定，每个扇区512字节，其中446字节用来存储内容，剩下64字节用来分区表示，其中每16个字节表示一个分区，共四个分区)

- 扩展分区（从主分区中拿出一个分区作为扩展分区，主分区+扩展分区<=4）：
  - 最多只能有一个
  - 主分区加扩展分区最多有4个
  - 不能写入数据，只包含逻辑分区
- 逻辑分区(windows 利用c、d、e、f代表逻辑分区)

###2、格式化

格式化是为了写入文件系统，顺带清空数据。

格式化(高级格式化)又称为逻辑格式化，它是指根据用户选定的文件系统(如FAT16、FAT32、NTFS、EXT2、EXT3、EXT4等)，在磁盘的特定区域写入特定数据，在分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间。

越新的文件系统越先进：

- FAT16最大支持2G分区；FAT32单个文件不超过4G，最大支持16G分区；NTFS支持更大单体文件，更大分区。
- EXT2、EXT3、EXT4一般用于Linux文件系统。

（1）把分区格式化等大小的数据块(默认4kb)

格式化（block）：数据块(默认4kb，最基本的存储单元)

![image-20190804024034224](/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190804024034224.png)

（2）在分区列表里建立二维表格(在数据块中查找数据)

数据块的id号（iNode），修改时间，权限

###3、硬件设备文件名

分区（给硬盘做逻辑隔断）->格式化（把大的分区打成小的block，便于写入）->给每一个分区取设备名称（直观理解就是给每一个分区一个文件名）->分配盘符

linux中任何东西都是文件，每一个设备都有一个名字。

|       硬件        |      设备文件名      |
| :---------------: | :------------------: |
|      IDE硬盘      |     /dev/hd[a-d]     |
| SCSI/SATA/USB硬盘 |     /dev/sd[a-p]     |
|       光驱        | /dev/cdrom或/dev/hdc |
|       软盘        |     /dev/fd[0-1]     |
|   打印机(25针)    |     /dev/lp[0-2]     |
|    打印机(USB)    |  /dev/usb/lp[0-15]   |
|       鼠标        |      /dev/mouse      |

分区的设备文件名：

- /dev/hda1(IDE硬盘接口)      —> hd代表IDE硬盘接口，a代表第一个硬盘，b代表第二个硬盘，以此类推；1代表第一个分区，2代表第二个分区，以此类推。

- /dev/sda1(SCSI硬盘接口，SATA硬盘接口) —>sd代表SCSI硬盘接口或SATA硬盘接口

  

###4、挂载(分配盘符)

在linux中不叫盘符，而叫挂载点，==Linux用目录叫盘符==，简单记下来就好了

![image-20190804025539285](/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190804025539285.png)

如上图所示：

- 图a表示第一个硬盘，主分区123，4号分区作为扩展分区，里面又有两个逻辑分区，因此，它的分区设备文件名分别为：/dev/sda1，/dev/sda2…，/dev/sda5，/dev/sda6
- 图b表示第二个硬盘，只有两个主分区1和2，2号分区又分为5、6、7三个逻辑分区，说明分区号1，2，3，4都是留给主分区的

挂载值给分区分配盘符的过程：在Linux我们不用ABCD最为盘符，而是用文件目录作为盘符，挂载也就是把分区和分区（目录）连接起来的过程。

==必须分区：==

- 根分区"/"
- swap分区(交换分区，内存2倍，不超过2GB（如果内存足够4g以上，那也不必非要2倍），swap分区也叫虚拟内存：当内存不够用的时候，用这部分分区)

推荐分区

- /boot（启动分区，200MB）防止不小心删除

linux目录结构：

![image-20190802233947857](/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190802233947857.png)

如上图所示：

虽然逻辑上/boot ，/etc ，/home都是在根分区"/"下面的以及目录，但是如右边图所示，很可能根目录写在一个分区里，/boot目录写在另一个分区里，也就是说目录结构虽然在逻辑上有关系，但是实际存储的位置可能不在一个存储空间里。

###5、Linux常见目录结构

<img src="/Users/zhangyanan/Library/Application Support/typora-user-images/image-20190804030929153.png" style="width:800px">

**/**：根目录，如上图所示；

**/bin**：存放常用命令的目录；

**/boot** ：存放引导的相关文件；

**/mnt**：默认是挂载光驱和软盘的；

**/home**：存放普通用户的相关目录;

**/etc**：存放==系统配置==相关的文件；

**/var**：存放系统执行过程中经常变化的文件;

**/lib**：函数库

**/tmp**：临时文件

**/root**：存放root用户的相关文件；

**/sbin**：存放具有一定权限才能使用的命令;

**/dev**：这个目录中包含了所有Linux系统中使用的外部设备，它实际上是一个访问这些外部设备的端口。我们可以非常方便地去访问这些外部设备，和访问一个文件，一个目录没有任何区别；

**/proc**，**/sys**：目录保存的是内存的挂载点，不要动

**/usr**：==安装软件的默认文件夹==；所有程序安装在这里. /usr 里的所有文件一般来自Linux distribution；本==地安装的程序和其他东西在/usr/local下；==

​	usr是user的缩写，是曾经的HOME目录，然而现在已经被/home取代了，现在usr被称为是Unix SystemResource，即Unix系统资源的缩写。/usr 是系统核心所在，包含了所有的共享文件。它是 unix 系统中最重要的目录之一，涵盖了二进制文件，各种文档，各种头文件，还有各种库文件；还有诸多程序，例如 ftp，telnet 等等。

- **usr/etc**             存放设置文件
  **/usr/games**     存放游戏和教学文件
  **/usr/include**     存放C开发工具的头文件
  **/usr/share**        存放结构独立的数据
  **==/usr/bin==**            几乎所有用户命令.有些命令在/bin 或/usr/local/bin 中.
  **/usr/sbin**          根文件系统不必要的系统管理命令，例如多数服务程序.  
  **/usr/share/man , /usr/share/info , /usr/share/doc**  手册页、GNU信息文档和各种其他文档文件.  
  ==**/usr/include**==    C编程语言的头文件.为了一致性这实际上应该在/usr/lib 下，但传统上支持这个名字.
  **==/usr/lib==**             程序或子系统的不变的数据文件，包括一些site-wide配置文件.名字lib来源于库(library); 编程的原始      库存在/usr/lib 里.  
  **/usr/local**        本地安装的软件和其他文件放在这里.  
  **/usr/src**            存放程序的源代码

**/var**：包括系统一般运行时要改变的数据.每个系统是特定的，即不通过网络与其他计算机共享

**/opt:** 全称Optional application software packages，可选的应用安装包，一般安装软件可以;Q:软件安在哪？

- A:

  `/usr`：系统级的目录，可以理解为`C:/Windows/`，`/usr/lib`理解为`C:/Windows/System32`。
  `/usr/local`：用户级的程序目录，可以理解为`C:/Progrem Files/`。用户自己编译的软件默认会安装到这个目录下。
  `/opt`：用户级的程序目录，可以理解为`D:/Software`，opt有可选的意思，这里可以用于放置第三方大型软件（或游戏），当你不需要时，直接`rm -rf`掉即可。在硬盘容量不够时，也可将/opt单独挂载到其他磁盘上使用。

  源码放哪里？
  `/usr/src`：系统级的源码目录。
  `/usr/local/src`：用户级的源码目录。



- ```
  /usr/local下一般是你安装软件的目录，这个目录就相当于在windows下的programefiles这个目录  /opt这个目录是一些大型软件的安装目录，或者是一些服务程序的安装目录 ;
  	这里主要存放那些可选的程序。你想尝试最新的firefox测试版吗?那就装到/opt目录下吧，这样，当你尝试完，想删掉firefox的时候，你就可以直接删除它，而不影响系统其他任何设置。安装到/opt目录下的程序，它所有的数据、库文件等等都是放在同个目录下面。在硬盘容量不够时，也可将/opt单独挂载到其他磁盘上使用。
  	举个例子：刚才装的测试版firefox，就可以装到/opt/firefox_beta目录下，/opt/firefox_beta目录下面就包含了运行firefox所需要的所有文件、库、数据等等。要删除firefox的时候，你只需删除/opt/firefox_beta目录即可，非常简单。
  ```

  